<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../assets/css/profile.css">
</head>

<body>
    <header>

        <div>
            <h2>Scriptify</h2>
        </div>
        <nav>
            <a href="../index.html"><button>Home</button></a>
            <a href="../course/course.html"><button>Courses</button></a>
            <a href="#"><button>About</button></a>
            <a><button id="profile">Profile</button></a>
        </nav>
    </header>


    <form class="edit">
        <div>

            <input type="text" name="fname" id="editfname" placeholder="First Name">


            <input type="text" name="lname" id="editlname" placeholder="Last Name">
        </div>


        <input type="email" name="lname" id="editEmail" disabled>

        <div class="gender">
            <input type="radio" name="fname" id="">
            <label for="male">Male</label>

            <input type="radio" name="fname" id="">
            <label for="male">Female</label>
        </div>

        <div>
            <button id="Save">Save</button>
            <button id="Cancel">Cancel</button>
        </div>

    </form>
    <div class="switch">
        <h1 id="welcome"></h1>
        <a id="switch">Switch Accounts</a>
    </div>
    <div class="container">

        <aside>
            <img src="https://i.pinimg.com/originals/7e/e0/a7/7ee0a7d3d8bfb6f70c732cb50754715b.jpg" alt="">

            <div>
                <h1 id="name">Name</h1>
            </div>
            <div>
                <h1 id="email">Email</h1>
            </div>
            <button id="editProfile">Edit Profile</button>

        </aside>
        <div>

        </div>
        <main>

            <h1>Course Completion</h1>
            <div class="courseComplete">

                <img src="../assets/img/joystick.png" alt="">
                <div>
                    <strong>Things you should know</strong>
                    <p>Basics things that need for a hacker</p>
                    <input type="range" name="" id="" disabled>
                </div>
            </div>
            <div class="achievementsSection">
                <h1>Achievements</h1>
                <div class="achievements">
                    <img src="https://static.vecteezy.com/system/resources/previews/002/349/754/original/modern-elegant-certificate-template-free-vector.jpg"
                        alt="">
                    <img src="https://static.vecteezy.com/system/resources/previews/002/349/754/original/modern-elegant-certificate-template-free-vector.jpg"
                        alt="">
                </div>

            </div>
        </main>
    </div>
    <script>


        const arr = JSON.parse(localStorage.getItem("userData"))
        let email = document.getElementById("email");

        
        let editFname = document.getElementById("editfname")
        let editLname =   document.getElementById("editlname")
        let editEmail =document.getElementById("editEmail")

        for (let i = 0; i < arr.length; i++) {

            document.getElementById("name").innerText = arr[i]["firstname"];
            editFname.value = arr[i]["firstname"];
            editLname.value = arr[i]["lastname"];
            email.innerText = arr[i]["email"];
            document.getElementById("editEmail").value = arr[i]["email"];
            document.getElementById("welcome").innerText = 'Welcome ' + arr[i]["firstname"] + " " + arr[i]["lastname"] + " ðŸ––"
        }
        document.getElementById("welcome").style.textTransform = "Uppercase";
        document.getElementById("switch").addEventListener('click', function () {
            window.location.href = "../login/signin.html";
        })
        document.getElementById("editProfile").addEventListener("click", function () {

            let editForm = document.getElementsByClassName("edit")
            editForm[0].classList.add("view")

            document.querySelector(".container").style.filter = "blur(8px)"
            document.querySelector("header").style.filter = "blur(8px)"
            document.querySelector(".switch").style.filter = "blur(8px)"
        })

        document.getElementById("Save").addEventListener("click", () => {
            
            arr.find(f =>{
                if(editEmail.value == f["email"]){
                f["firstname"] = editFname.value;
                f["lastname"] = editLname.value;

                localStorage.setItem("userData",JSON.stringify(arr))
            }
                
            })

        
        })
        document.getElementById("Cancel").addEventListener("click", function () {
            window.location.href = "./profile.html"
        })
    </script>
</body>

</html>